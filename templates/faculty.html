{% extends "base.html" %}

{% block content %}

<section class="hero-section text-black text-center d-flex align-items-center justify-content-center div1">
  <div class="container-fluid">
    <h1>Meet Our Faculty Members</h1>
    <p>Learn more about the dedicated professionals who make our school great.</p>
  </div>
</section>

<div class="album py-5 bg-body-tertiary">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 justify-content-center">
      <!-- Display Principal(s) in the First Row -->
      {% for member in principals %}
      <div class="col-lg-2 text-center faculty-card">
        <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg"
          role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false">
          <title>{{ member.name }}</title>
          <rect width="100%" height="100%" fill="var(--bs-secondary-color)" />
          {% if member.base64_data %}
          <image href="data:image/jpeg;base64,{{ member.base64_data }}" width="140" height="140"
            class="rounded-circle" />
          {% else %}
          <image href="path/to/default-image.jpg" width="140" height="140" class="rounded-circle" />
          {% endif %}
        </svg>
        <h2 class="fw-normal">{{ member.name }}</h2>
        <p class="text-muted">{{ member.designation }}</p>
        <p>Qualification: {{ member.qualification }}</p>
        <p>Experience: {{ member.experience }} years</p>
        <p>Age: {{ member.age }}</p>
        {% if current_user.is_authenticated and current_user.username == 'admin' %}
        <form action="{{ url_for('delete_faculty_image', id=member.id) }}" method="POST" style="display: inline;">
          <button type="submit" class="btn btn-sm btn-danger position-absolute"
            style="bottom: 10px; right: 10px;">Delete</button>
        </form>
        {% endif %}
      </div>
      {% endfor %}
    </div>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 justify-content-center div1">
      <!-- Display Vice Principal and administrator in the second Row -->
      {% for member in vp_and_adm %}
      <div class="col-lg-2 text-center faculty-card mx-2">
        <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg"
          role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false">
          <title>{{ member.name }}</title>
          <rect width="100%" height="100%" fill="var(--bs-secondary-color)" />
          {% if member.base64_data %}
          <image href="data:image/jpeg;base64,{{ member.base64_data }}" width="140" height="140"
            class="rounded-circle" />
          {% else %}
          <image href="path/to/default-image.jpg" width="140" height="140" class="rounded-circle" />
          {% endif %}
        </svg>
        <h2 class="fw-normal">{{ member.name }}</h2>
        <p class="text-muted">{{ member.designation }}</p>
        <p>Qualification: {{ member.qualification }}</p>
        <p>Experience: {{ member.experience }} years</p>
        <p>Age: {{ member.age }}</p>
        {% if current_user.is_authenticated and current_user.username == 'admin' %}
        <form action="{{ url_for('delete_faculty_image', id=member.id) }}" method="POST" style="display: inline;">
          <button type="submit" class="btn btn-sm btn-danger position-absolute"
            style="bottom: 10px; right: 10px;">Delete</button>
        </form>
        {% endif %}
      </div>
      {% endfor %}
    </div>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 mt-4 justify-content-center">
      <!-- Display Remaining Members -->
      {% for member in others %}
      <div class="col-lg-3 text-center faculty-card mx-2">
        <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg"
          role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false">
          <title>{{ member.name }}</title>
          <rect width="100%" height="100%" fill="var(--bs-secondary-color)" />
          {% if member.base64_data %}
          <image href="data:image/jpeg;base64,{{ member.base64_data }}" width="140" height="140"
            class="rounded-circle" />
          {% else %}
          <image href="path/to/default-image.jpg" width="140" height="140" class="rounded-circle" />
          {% endif %}
        </svg>
        <h2 class="fw-normal">{{ member.name }}</h2>
        <p class="text-muted">{{ member.designation }}</p>
        <p>Qualification: {{ member.qualification }}</p>
        <p>Experience: {{ member.experience }} years</p>
        <p>Age: {{ member.age }}</p>
        {% if current_user.is_authenticated and current_user.username == 'admin' %}
        <form action="{{ url_for('delete_faculty_image', id=member.id) }}" method="POST" style="display: inline;">
          <button type="submit" class="btn btn-sm btn-danger position-absolute"
            style="bottom: 10px; right: 10px;">Delete</button>
        </form>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
</div>

{% endblock %}
