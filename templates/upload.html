{% extends "base.html" %}

{% block content %}

<div class="container mt-5">
  <div class="bg-light text-dark p-4 rounded shadow">
    
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    <div class="alert-container">
      {% for category, message in messages %}
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <!-- Buttons Container -->
    <div class="d-flex justify-content-center gap-3 mb-4">
      <form action="{{ url_for('contacts') }}" method="POST">
        <button type="submit" class="btn btn-warning px-4 py-2 fw-bold">Contact Information</button>
      </form>

      <form action="{{ url_for('logout') }}" method="POST">
        <button type="submit" class="btn btn-danger px-4 py-2 fw-bold">Logout</button>
      </form>
    </div>

    <h1 class="text-center mb-4 text-primary">Admin Page</h1>

    <!-- Image Upload Form for Gallery -->
    <div class="mb-5">
      <h2 class="text-center text-secondary">Upload Images for Gallery</h2>
      <form action="{{ url_for('upload') }}" method="post" enctype="multipart/form-data" class="p-4 border rounded bg-white shadow">
        <div class="mb-3">
          <label for="image_upload" class="form-label fw-bold">Select Images:</label>
          <input type="file" id="image_upload" name="images" class="form-control" accept="image/*" multiple required>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-warning px-5">Upload Images</button>
        </div>
      </form>
    </div>

    <!-- Service Upload Form -->
    <div class="mb-5">
      <h2 class="text-center text-secondary">Upload Service Information</h2>

      <form action="{{ url_for('service_upload') }}" method="POST" enctype="multipart/form-data" class="p-4 border rounded bg-white shadow">
        <div class="mb-3">
          <label for="title" class="form-label fw-bold">Service Title:</label>
          <input type="text" name="title" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label fw-bold">Description:</label>
          <textarea name="description" class="form-control" rows="4" required></textarea>
        </div>

        <div class="mb-3">
          <label for="amount" class="form-label fw-bold">Amount:</label>
          <input type="number" step="0.01" name="amount" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label fw-bold">Upload Image:</label>
          <input type="file" name="image" class="form-control" accept="image/*" required>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-success px-5">Upload Service</button>
        </div>
      </form>
    </div>

  </div>
</div>

{% endblock %}
